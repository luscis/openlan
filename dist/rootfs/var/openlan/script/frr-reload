#!/usr/bin/env python3

import socket
import sys
import logging

SOCKET_PATH = "/var/openlan/frr/reloader.sock"

def client():
    client = socket.socket(socket.AF_UNIX, socket.SOCK_STREAM)

    try:
        client.connect(SOCKET_PATH)
        message = "reload"
        client.send(message.encode('utf-8'))

        response = client.recv(1024).decode('utf-8')
        print(f"{response}")
        if response != "success":
             sys,exit(1)
    except Exception as e:
        print(f"Error: {e}")
    finally:
        client.close()

if __name__ == "__main__":
    client()